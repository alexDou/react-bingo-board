{"version":3,"file":"main.25c9243c627f58e9aa96.js","mappings":"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","sources":["webpack://react-bingo-board/./src/components/ErrorHandler/ErrorHandler.tsx","webpack://react-bingo-board/./src/components/ErrorHandler/ErrorBoundaries.tsx","webpack://react-bingo-board/./src/store/move.tsx","webpack://react-bingo-board/./src/store/bingo.tsx","webpack://react-bingo-board/./src/hooks/useBingo.tsx","webpack://react-bingo-board/./src/hooks/useDispatch.tsx","webpack://react-bingo-board/./src/components/Start.tsx","webpack://react-bingo-board/./src/styles/start.module.scss?658d","webpack://react-bingo-board/./src/hooks/useMove.tsx","webpack://react-bingo-board/./src/components/BingoItem.tsx","webpack://react-bingo-board/./src/styles/bingo-item.module.scss?019e","webpack://react-bingo-board/./src/styles/move.module.scss?175a","webpack://react-bingo-board/./src/components/Winner.tsx","webpack://react-bingo-board/./src/styles/winner.module.scss?617b","webpack://react-bingo-board/./src/api/api.config.ts","webpack://react-bingo-board/./src/api/index.ts","webpack://react-bingo-board/./src/components/Move.tsx","webpack://react-bingo-board/./src/components/BingoGrid.tsx","webpack://react-bingo-board/./src/styles/bingo-grid.module.scss?843f","webpack://react-bingo-board/./src/components/Game.tsx","webpack://react-bingo-board/./src/index.tsx","webpack://react-bingo-board/./src/App.tsx"],"sourcesContent":["import React, { ReactElement } from \"react\";\nimport Dialog from \"rc-dialog\";\n\nimport \"rc-dialog/assets/index.css\";\n\nconst ErrorHandler = ({\n  error,\n  onClose\n}: {\n  error?: Error;\n  onClose?: () => void;\n}): ReactElement => {\n  if (!error) {\n    return null;\n  }\n\n  return (\n    <Dialog\n      visible={true}\n      animation=\"zoom\"\n      maskAnimation=\"fade\"\n      wrapClassName=\"darkDialog errorDialog\"\n      closable={!!onClose}\n      onClose={onClose}\n      // title={i18n.t(Localisation.ERROR_TITLE)}\n      title=\"App Error\"\n    >\n      <p>{error.message}</p>\n    </Dialog>\n  );\n};\n\nexport default ErrorHandler;\n","import React, { Component, ReactElement } from \"react\";\n\nimport ErrorHandler from \"./ErrorHandler\";\n\nclass ErrorBoundaries extends Component<\n  { children: ReactElement },\n  { error?: Error }\n> {\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // log error here\n  }\n\n  render() {\n    if (this.state.error) {\n      return <ErrorHandler error={this.state.error} />;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundaries;\n","import React, { FC, createContext, Dispatch, useReducer } from 'react';\n\nimport { MoveState, MoveAction } from './types';\n\nexport const MoveContext = createContext({} as [MoveState, Dispatch<MoveAction>]);\n\nfunction moveReducer(state: MoveState, action: MoveAction): MoveState  {\n  const { type, payload } = action;\n\n  switch (type) {\n    case 'status': {\n      return {...state, status: payload.status};\n    }\n    case 'moves': {\n      return { ...state, moves: [...state.moves, ...payload.moves] }\n    }\n    case 'error': {\n      return { ...state, error: payload.error }\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${type} in moveReducer`);\n    }\n  }\n}\n\ntype MoveProviderProps = {\n  children: React.ReactNode;\n};\n\nconst MoveProvider: FC<MoveProviderProps> = (props) => {\n  const reducer = useReducer(moveReducer, {\n    status: 'idle',\n    moves: [13],\n    error: null\n  });\n\n  return <MoveContext.Provider value={reducer} {...props} />\n}\n\nexport default MoveProvider;\n","import React, { FC, createContext, Dispatch, useReducer } from 'react';\n\nimport { BingoState, BingoAction } from \"./types\";\n\nexport const totalMovesAllowed = 16;\n\nexport const BingoContext = createContext({} as [BingoState, Dispatch<BingoAction>]);\n\nfunction bingoReducer(state, action: BingoAction): BingoState  {\n  const { type, payload } = action;\n\n  if (!(type in state) || !payload[type]) {\n    throw new Error(`Unhandled action type: ${type} in bingoReducer`);\n  }\n\n  return { ...state, ...payload };\n}\n\ntype BingoProviderProps = {\n  children: React.ReactNode;\n};\n\nconst BingoProvider: FC<BingoProviderProps> = (props) => {\n  const reducer = useReducer(bingoReducer, {\n    cells: [],\n    players: [],\n    play: '',\n    winners: [],\n    openToWin: [\n      [1,2,3,4,5],\n      [6,7,8,9,10],\n      [11,12,13,14,15],\n      [16,17,18,19,20],\n      [21,22,23,24,25],\n      [1,6,11,16,21],\n      [2,7,12,17,22],\n      [3,8,13,18,23],\n      [4,9,14,19,24],\n      [5,10,15,20,25]\n    ],\n    draw: false\n  });\n\n  return <BingoContext.Provider value={reducer} {...props} />;\n}\n\nconst draws = [\n  [1,7,13,19,25],\n  [5,9,13,17,21]\n]\n\nexport const isWinningOrDraw = (moves: number[], bingo: BingoState, dispatch: Dispatch<BingoAction>) => {\n  const movesLen = moves.length;\n  if (movesLen < 4) {\n    return 'pass';\n  }\n\n  // is it a draw\n  const drawConfirm = [];\n  for (const draw of draws) {\n    for (const dn of draw) {\n      if (!moves.includes(dn)) {\n        drawConfirm.push(false);\n        break;\n      }\n    }\n  }\n  if (drawConfirm.length < draws.length) {\n    dispatch({ type: 'draw', payload: { draw: true }});\n    dispatch({ type: 'winners', payload: { winners: [] }});\n    return;\n  }\n\n  // is it a win\n  const winConfirm = Array(bingo.openToWin.length).fill(true);\n  let i = -1;\n  for (const win of bingo.openToWin) {\n    i += 1;\n    for (const wn of win) {\n      if (!moves.includes(wn)) {\n        winConfirm[i] = false;\n        break;\n      }\n    }\n  }\n  while (winConfirm.includes(true)) {\n    const winIdx = winConfirm.findIndex(el => el === true);\n    winConfirm[winIdx] = false;\n    dispatch({\n      type: 'openToWin',\n      payload: {\n        openToWin: [...bingo.openToWin.slice(0, winIdx), ...bingo.openToWin.slice(winIdx + 1)]\n      }\n    });\n    dispatch({ type: \"winners\", payload: { winners: [...bingo.winners, bingo.play ] }});\n  }\n}\n\nexport const prefill = `wow\nauch\nboo\noops\na-ha\npsht\noh\nah\nargh\nbu-ga-ga\nd'oh\npsst\no-la-la\nkaramba\nogo\nhm\nau-ya\nyo-ho-ho\nbrr\nfuff\nmwah\nmech\npew\nyay`;\n\nexport default BingoProvider;\n","import React from 'react';\n\nimport { BingoContext } from 'store/bingo';\n\nconst useBingo = () => {\n  const context = React.useContext(BingoContext);\n\n  if (!context) {\n    throw new Error('Hook useBingo has been called outside BingoContext provider');\n  }\n\n  return context;\n}\n\nexport default useBingo;\n","import React, { useRef } from 'react';\n\nfunction useDispatch(dispatch) {\n  const mounted = useRef(false);\n\n  React.useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n\n  return React.useCallback(\n    (...args) => (mounted.current ? dispatch(...args) : void 0),\n    [dispatch],\n  )\n}\n\nexport default useDispatch;\n","import React, { FC, useRef, useState, useCallback } from 'react';\n\nimport useBingo from \"hooks/useBingo\";\nimport useDispatch from \"hooks/useDispatch\";\nimport cls from \"styles/start.module.scss\";\nimport { prefill } from \"store/bingo\";\nimport {BingoItem, BingoState} from \"store/types\";\n\nconst trancate = (r: string[]) => {\n  return r.map(v => {\n    return v.length <= 24 ? v : v.substring(0, 22) + '...';\n  })\n}\n\nconst sanitize = (r: string[]) => {\n  return r.map(cell => {\n    return cell\n      // sanitize scripts\n      .replace(/[<[^>]+>/ig, '')\n      .replace(/[^ ]script:/ig, '');\n  });\n}\n\nconst indexR = (r: string[]) => {\n  return r\n    .map((v, idx) => ({ idx: idx + 1, value: v }))\n}\n\nconst insertEmptyCenter = (r: BingoItem[]) => {\n  return [...r.slice(0, 12), {idx:0, value: ''}, ...r.splice(12)];\n}\n\nconst shuffle = (r: string[] | Record<string, number|string>[]) => {\n  return r\n    .map(v => [v, Math.random()])\n    .sort((a, b) => a[1] - b[1])\n    .map(v => v[0]);\n}\n\nconst Start: FC = () => {\n  const [disableSubmit, setDisableSubmit] = useState<boolean>(true);\n  const [, dispatchBingo] = useBingo();\n  const dispatch = useDispatch(dispatchBingo);\n\n  const cellsRef = useRef(null);\n  const playersRef = useRef(null);\n\n  const handleChange = useCallback(() => {\n    const cellsR = cellsRef.current?.value && cellsRef.current?.value.split(/\\r?\\n/);\n    const playersR = playersRef.current?.value && playersRef.current?.value\n      .split(/\\r?\\n/)\n      .filter(c => c.length > 1);\n\n    setDisableSubmit(() => cellsR.length !== 24 || playersR.length < 1 || playersR.length > 4);\n    return;\n  }, []);\n\n  const handleSubmit = useCallback(() => {\n    const cells: BingoState['cells'] = insertEmptyCenter(shuffle(indexR(trancate(sanitize(cellsRef.current?.value.split(/\\r?\\n/))))));\n    const players: BingoState['players'] = shuffle(sanitize(playersRef.current?.value.split(/\\r?\\n/)));\n\n    dispatch({ type: 'cells', payload: { cells }});\n    dispatch({ type: 'players', payload: { players }});\n    dispatch({ type: 'play', payload: { play: players[0] }});\n    return;\n  }, []);\n\n  const prefillCells = useCallback(() => {\n    cellsRef.current.value = prefill;\n  }, []);\n\n  return (\n    <div className={cls['bingo-start-wrapper']}>\n      <div className={cls['cells']}>\n        <button className={cls['prefill']} onClick={() => prefillCells()}>\n          Prefill for me\n        </button>\n        <label htmlFor=\"cells-values\">\n          24 values for your next game\n          <br/>\n          (<small>separated by a new line</small>)\n        </label>\n        <textarea\n          name=\"cells\"\n          ref={cellsRef}\n          id=\"cells-values\"\n          onChange={() => handleChange()}\n        />\n      </div>\n      <div className={cls['players']}>\n        <label htmlFor=\"players-values\">\n          Up to 4 players\n          <br/>\n          (<small>separated by a new line</small>)\n        </label>\n        <textarea\n          name=\"cells\"\n          ref={playersRef}\n          id=\"players-values\"\n          onChange={() => handleChange()}\n        />\n      </div>\n      <div className={cls['submit-block']}>\n        <button\n          type=\"button\"\n          className={cls['submit-btn']}\n          disabled={disableSubmit}\n          onClick={() => handleSubmit()}\n        >\n          All Set\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Start;\n","// extracted by mini-css-extract-plugin\nexport default {\"bingo-start-wrapper\":\"kU4nPk6iYKyWiW9y5ybP\",\"bingoStartWrapper\":\"kU4nPk6iYKyWiW9y5ybP\",\"cells\":\"CwMHHXoEEJsCUQuGZgfy\",\"prefill\":\"VFU0JHhSUnC4LQM7Ahja\",\"players\":\"FHYGhq8ASBmF8RRpcbHT\",\"submit-block\":\"Y146jxePNmXwO7GLbrD5\",\"submitBlock\":\"Y146jxePNmXwO7GLbrD5\",\"submit-btn\":\"NWmcwq5PSltEsxomJG8h\",\"submitBtn\":\"NWmcwq5PSltEsxomJG8h\"};","import React from 'react';\n\nimport { MoveContext } from 'store/move';\n\nconst useMove = () => {\n  const context = React.useContext(MoveContext);\n\n  if (!context) {\n    throw new Error('Hook useMove has been called outside MoveContext provider');\n  }\n\n  return context;\n}\n\nexport default useMove;\n","import React, { FC } from 'react';\nimport cn from 'classnames';\n\nimport useMove from \"hooks/useMove\";\nimport cls from \"styles/bingo-item.module.scss\";\n\ninterface BingoItem {\n  idx: number;\n  value: string;\n  hit?: true;\n}\n\nconst BingoItem: FC<BingoItem> = ({idx, value, hit= false}) => {\n  const [move] = useMove();\n\n  const itemClasses = cn({\n    [cls['bingo-item']]: true,\n    [cls['pending']]: move.status === 'pending',\n    [cls['hit']]: move.status === 'fulfilled' && hit\n  });\n\n  return (\n    <div className={itemClasses}>\n      <div className={cls['number']}>\n        {idx}\n      </div>\n      <span>{value}</span>\n    </div>\n  );\n};\n\nexport default BingoItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"bingo-item\":\"oM4vzU4fzfynvgCRIB66\",\"bingoItem\":\"oM4vzU4fzfynvgCRIB66\",\"number\":\"BG8QfUP_4LWQddNKpc1o\",\"hit\":\"ut7bJ3N7bxQZ3qHLDh1V\",\"pending\":\"qk9FEwplCTVkmoGO5sbw\"};","// extracted by mini-css-extract-plugin\nexport default {\"move-btn-wrapper\":\"l1KRrFNPsg1cM_2yVfVg\",\"moveBtnWrapper\":\"l1KRrFNPsg1cM_2yVfVg\",\"btn\":\"MUQleqb0OYrKKbW9YGxk\",\"game-over\":\"UZOQ5qFVDjDH7ftJPtHV\",\"gameOver\":\"UZOQ5qFVDjDH7ftJPtHV\"};","import React, { FC, useState, useLayoutEffect, memo } from 'react';\n\nimport cls from \"styles/move.module.scss\";\nimport cls2 from \"styles/winner.module.scss\";\n\ninterface WinnerProps {\n  name: string;\n}\n\nconst emoji = ['üòª', 'üëè', 'ü•Ç', 'ü•Å', 'üí∞', 'üéâ', '‚úÖ', 'ü§©', 'üíê', 'üçæ'];\n\nconst Winner: FC<WinnerProps> = ({ name }) => {\n  const [greet, setGreet] = useState('');\n  useLayoutEffect(() => {\n    const greetInvl = setInterval(() => {\n      const randKey = Math.floor(Math.random() * 9);\n      setGreet(emoji[randKey]);\n    }, 500);\n    return () => clearInterval(greetInvl);\n  }, [name]);\n\n  return (\n    <div className={cls['move-btn-wrapper']}>\n      <div className={cls2['winner']}>\n        <div>{name}</div>\n        <div>\n          <span className={cls2['emoji-holder']}>{greet}</span>\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default memo(Winner);\n","// extracted by mini-css-extract-plugin\nexport default {\"winner\":\"csTELf_0SQ92lOzVq6zf\",\"emoji-holder\":\"sONiCLbg5hJ2soUoyT2B\",\"emojiHolder\":\"sONiCLbg5hJ2soUoyT2B\"};","import { APIConfig } from \"./types\";\n\nconst apiConfig: APIConfig = {\n    endpoint: 'https://www.randomnumberapi.com/api/v1.0/random',\n    payload: { min:1, max: 24, count: 1 }\n} as const;\n\nexport default apiConfig;\n","import axios, { AxiosInstance, AxiosResponse } from 'axios';\n\nimport apiConfig from './api.config';\n\nconst http: AxiosInstance = axios.create({\n  timeout: 4000,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  params: apiConfig.payload\n});\n\nconst sleep = (delayMs: number) => {\n  let start = new Date().getTime();\n  while (new Date().getTime() < start + delayMs);\n}\n\nconst makeMove = async (exclude: number[]) => {\n  let move: number[] | null = null;\n  let i = 0;\n  while (!move || exclude.includes(move[0])) {\n    if (i >= 1) {\n      sleep(500);\n    }\n    const resp: AxiosResponse<number[]> = await http.get(apiConfig.endpoint);\n    move = resp.data;\n    i++;\n  }\n\n  return move;\n}\n\nexport default makeMove;\n","import React, { FC, useState, useEffect } from 'react';\nimport Loading from \"react-loading\";\n\nimport useMove from \"hooks/useMove\";\nimport useBingo from \"hooks/useBingo\";\nimport useDispatch from \"hooks/useDispatch\";\nimport Winner from \"./Winner\";\nimport makeMove from \"api\";\nimport { isWinningOrDraw, totalMovesAllowed } from \"store/bingo\";\nimport cls from \"styles/move.module.scss\";\n\nconst Move: FC = () => {\n  const [nextMove, setNextMove] = useState<boolean>(false);\n  const [winner, setWinner] = useState<boolean>(false);\n  const [bingo, origDispatchBingo] = useBingo();\n  const [move, origDispatchMove] = useMove();\n  const dispatchMove = useDispatch(origDispatchMove);\n  const dispatchBingo = useDispatch(origDispatchBingo);\n\n  useEffect(() => {\n    if (nextMove) {\n      dispatchMove({ type: 'status', payload: { status: 'pending' }});\n      makeMove(move.moves)\n        .then(moveOn => {\n          // add the move & update cells\n          dispatchMove({ type: 'moves', payload: { moves: moveOn }});\n          dispatchBingo({\n            type: 'cells',\n            payload: {\n              cells: bingo.cells.map((c, cIdx) => {\n                return cIdx === (moveOn[0] - 1) ? { ...c, hit: true } : c;\n              })\n            }\n          });\n\n          // is it a winning or draw move\n          isWinningOrDraw([...move.moves, ...moveOn], bingo, dispatchBingo);\n\n          // change active player\n          const [fstPlayer, ...restPlayers] = bingo.players;\n          const newPlayers = [...restPlayers, fstPlayer];\n          dispatchBingo({ type: 'players', payload: { players: newPlayers }});\n          dispatchBingo({ type: 'play', payload: { play: newPlayers[0] }});\n\n          // change network status\n          dispatchMove({ type: 'status', payload: { status: 'fulfilled' }});\n\n          setNextMove(false);\n        })\n        .catch(e => {\n          dispatchMove({ type: 'error', payload: { error: e }});\n          setNextMove(false);\n        });\n    }\n  }, [nextMove]);\n\n  useEffect(() => {\n    if (bingo.winners.length >= 1) {\n      setWinner(true);\n      const winnerTo = setTimeout(() => {\n        setWinner(false);\n      },5500);\n\n      return () => clearTimeout(winnerTo)\n    }\n  }, [bingo.winners.length])\n\n  if ((bingo.draw || move.moves.length - 1 >= totalMovesAllowed) && !winner) {\n    return (\n      <div className={cls['move-btn-wrapper']}>\n        <div className={cls['game-over']}>\n          <span>{bingo.draw ? 'Draw' : 'Game'}</span>\n          <span>{bingo.draw ? 'Game' : 'Over'}</span>\n        </div>\n      </div>\n    )\n  }\n\n  if (winner) {\n    return <Winner name={bingo.winners[bingo.winners.length - 1]} />;\n  }\n\n  return (\n    <div className={cls['move-btn-wrapper']}>\n      {['fulfilled', 'idle'].includes(move.status) &&\n        <div className={cls['btn']} onClick={() => setNextMove(true)}>\n          <span>{!bingo.draw ? (move.moves.length - 1) < totalMovesAllowed ? bingo.play : 'End of' : 'Draw'}</span>\n          <span>{!bingo.draw ? 'MOVES' : 'Game'}</span>\n        </div>\n      }\n      {move.status === 'pending' &&\n        <Loading type=\"cubes\" color=\"rgba(63, 63, 63, 1)\" />\n       }\n    </div>\n  );\n};\n\nexport default Move;\n","import React, { FC } from 'react';\n\nimport useBingo from \"hooks/useBingo\";\nimport BingoItem from \"./BingoItem\";\nimport Move from \"./Move\";\nimport cls from \"styles/bingo-grid.module.scss\";\n\nconst BingoGrid: FC = () => {\n  const [bingo] = useBingo();\n\n  return (\n    <div className={cls['board-and-winners']}>\n      <div className={cls['bingo-wrapper']}>\n        {bingo.cells.map((v, idx) => {\n          if (idx === 12) {\n            return <Move key=\"center\" />\n          }\n          return <BingoItem {...v} key={`${v.idx}${v.value}`} />\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default BingoGrid;\n","// extracted by mini-css-extract-plugin\nexport default {\"board-and-winners\":\"H4TmzC9VO6GLJSHsGAIP\",\"boardAndWinners\":\"H4TmzC9VO6GLJSHsGAIP\",\"bingo-wrapper\":\"M2GWRSi27T0E_A7cpadH\",\"bingoWrapper\":\"M2GWRSi27T0E_A7cpadH\"};","import React, { FC } from 'react';\n\nimport Start from \"./Start\";\nimport BingoGrid from \"./BingoGrid\";\nimport useBingo from \"hooks/useBingo\";\n\nconst Game: FC = () => {\n  const [bingo] = useBingo();\n\n  return bingo.cells.length === 25 ? <BingoGrid /> : <Start />;\n}\n\nexport default Game;\n","import React, { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport App from './App';\nimport \"styles/page.scss\";\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(<StrictMode><App /></StrictMode>);\n","import React, { FC, ReactElement } from \"react\";\n\nimport ErrorBoundaries from 'components/ErrorHandler/ErrorBoundaries';\nimport MoveProvider from \"store/move\";\nimport BingoProvider from \"./store/bingo\";\nimport Game from \"./components/Game\";\n\nconst App: FC = (): ReactElement => {\n  return (\n    <ErrorBoundaries>\n      <MoveProvider>\n        <BingoProvider>\n          <Game />\n        </BingoProvider>\n      </MoveProvider>\n    </ErrorBoundaries>\n  );\n};\n\nexport default App;\n"],"names":["error","onClose","visible","animation","maskAnimation","wrapClassName","closable","title","message","ErrorBoundaries","Component","static","constructor","props","super","this","state","componentDidCatch","errorInfo","render","children","MoveContext","createContext","moveReducer","action","type","payload","status","moves","Error","reducer","useReducer","Provider","value","BingoContext","bingoReducer","draws","cells","players","play","winners","openToWin","draw","context","dispatch","mounted","useRef","current","args","sanitize","r","map","cell","replace","shuffle","v","Math","random","sort","a","b","disableSubmit","setDisableSubmit","useState","dispatchBingo","cellsRef","playersRef","handleChange","useCallback","cellsR","split","playersR","filter","c","length","handleSubmit","slice","idx","splice","insertEmptyCenter","substring","prefillCells","className","onClick","htmlFor","name","ref","id","onChange","disabled","hit","move","itemClasses","emoji","memo","greet","setGreet","useLayoutEffect","greetInvl","setInterval","randKey","floor","clearInterval","endpoint","min","max","count","http","timeout","headers","params","sleep","delayMs","start","Date","getTime","nextMove","setNextMove","winner","setWinner","bingo","origDispatchBingo","origDispatchMove","dispatchMove","useEffect","async","exclude","i","includes","get","data","then","moveOn","cIdx","drawConfirm","dn","push","winConfirm","Array","fill","win","wn","winIdx","findIndex","el","isWinningOrDraw","fstPlayer","restPlayers","newPlayers","catch","e","winnerTo","setTimeout","clearTimeout","color","key","document","getElementById","StrictMode"],"sourceRoot":""}